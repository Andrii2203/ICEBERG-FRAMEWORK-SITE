üîç Iceberg Framework: Feedback & Analysis
–ú—ñ–π –¥–æ—Å–≤—ñ–¥ –∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º
–ü—Ä–∞—Ü—é–≤–∞–≤ –∑ Iceberg Framework –ø—ñ–¥ —á–∞—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É iceberg-landing-3. –ü—Ä–æ—á–∏—Ç–∞–≤:

Standards (Next.js, Documentation, PWA, SEO, Accessibility)
Execution Maps (CARD-1, CARD-3, CARD-4)
Templates (Architecture, PageMapping, ExecutionPlan)
Core protocols (Planning, Migration, AI Execution, Memory)
‚úÖ –©–æ –ø—Ä–∞—Ü—é—î –ß–£–î–û–í–û
1. –î–µ—Ç–µ—Ä–º—ñ–Ω—ñ–∑–º —ñ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
–ß—ñ—Ç–∫–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è: Standards ‚Üí Protocols ‚Üí Execution Maps ‚Üí Code
–ù–µ–º–∞ –º—ñ—Å—Ü—è –¥–ª—è "—Ç–≤–æ—Ä—á–æ—Å—Ç—ñ" - –≤—Å–µ –≤–∏–∑–Ω–∞—á–µ–Ω–æ
STOP-CHECK points –∑–º—É—à—É—é—Ç—å –∑—É–ø–∏–Ω—è—Ç–∏—Å—è —ñ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏
–í–ø–ª–∏–≤: –¶–µ —Ä–æ–±–∏—Ç—å AI-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º

2. Separation of Concerns
Standards (—â–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ) –æ–∫—Ä–µ–º–æ –≤—ñ–¥ Protocols (—è–∫ —Ü–µ —Ä–æ–±–∏—Ç–∏)
Templates –¥–∞—é—Ç—å –≥–æ—Ç–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
Execution Maps - –ø–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
–í–ø–ª–∏–≤: AI –Ω–µ –ø–ª—É—Ç–∞—î—Ç—å—Å—è –º—ñ–∂ "—â–æ" —ñ "—è–∫"

3. Documentation-First Approach
–ö–æ–¥ –ø–∏—à–µ—Ç—å—Å—è –ü–Ü–°–õ–Ø –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
Architecture.md ‚Üí ExecutionPlan.md ‚Üí Code
Single Source of Truth
–í–ø–ª–∏–≤: –ó–∞–ø–æ–±—ñ–≥–∞—î drift –º—ñ–∂ –∫–æ–¥–æ–º —ñ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

4. 5-Layer Architecture –¥–ª—è Next.js
app ‚Üí features ‚Üí domain ‚Üí shared ‚Üí infrastructure
–ó—Ä–æ–∑—É–º—ñ–ª–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
–ß–∏—Å—Ç—ñ –º–µ–∂—ñ –º—ñ–∂ —à–∞—Ä–∞–º–∏
–õ–µ–≥–∫–æ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, –∫—É–¥–∏ —â–æ –ø–æ–∫–ª–∞—Å—Ç–∏
‚ö†Ô∏è –©–æ –ë–†–ê–ö–£–Ñ (–∫—Ä–∏—Ç–∏—á–Ω—ñ gaps)
1. Migration Tooling
–ü—Ä–æ–±–ª–µ–º–∞:
CARD-3 (Audit & Refactoring) –æ–ø–∏—Å—É—î –©–û —Ä–æ–±–∏—Ç–∏, –∞–ª–µ –ù–ï –º–∞—î:

–ì–æ—Ç–æ–≤–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤ –¥–ª—è –º–∞—Å–æ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
CLI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ä—É—Ç–∏–Ω–∏
Validation scripts –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ compliance
–©–æ —è —Ö–æ—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É:

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è imports
iceberg migrate imports --from "@/modules" --to "@/features"
# –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
iceberg validate structure --strict
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ
iceberg audit compliance
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–°—Ç–≤–æ—Ä–∏—Ç–∏ Iceberg CLI –∑ –±–∞–∑–æ–≤–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π

2. –†–µ–∞–ª—å–Ω—ñ –ü—Ä–∏–∫–ª–∞–¥–∏ (Code Examples)
–ü—Ä–æ–±–ª–µ–º–∞:
Standards –æ–ø–∏—Å—É—é—Ç—å –ø—Ä–∞–≤–∏–ª–∞, –∞–ª–µ –ú–ê–õ–û –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –∫–æ–¥—É.

–ü—Ä–∏–∫–ª–∞–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω–æ—Å—Ç—ñ:

Next.js-Architecture-Standard v0.1:

–ö–∞–∂–µ: "Server Components –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º"
–ù–ï –ø–æ–∫–∞–∑—É—î: –Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞—Ç–∏ feature –∑ client + server
–©–æ —Ö–æ—Ç—ñ–ª–æ—Å—è –± –±–∞—á–∏—Ç–∏:

/examples/
  /next-js-feature-example/
    /features/
      /payments/
        /ui/
          PaymentButton.tsx      # "use client"
          PaymentForm.tsx        # "use client"
        /services/
          stripe.service.ts      # server-side
        /types/
          payment.types.ts
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–î–æ–¥–∞—Ç–∏ /examples –∑ –ø–æ–≤–Ω–∏–º–∏ —Ä–µ–∞–ª—å–Ω–∏–º–∏ features (payments, auth, notifications)

3. –ö–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –º—ñ–∂ Standards
–ü—Ä–æ–±–ª–µ–º–∞:
–ü—ñ–¥ —á–∞—Å –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤–∏—è–≤–∏–≤, —â–æ:

ArchitectureTemplate.md –∑–≥–∞–¥—É—î infrastructure/ –¥–ª—è API
Next.js-Architecture-Standard –Ω–µ –¥–µ—Ç–∞–ª—ñ–∑—É—î, —â–æ —Å–∞–º–µ —Ç—É–¥–∏ –∫–ª–∞—Å—Ç–∏
–õ–æ–∫–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è iceberg-landing-3/docs/ARCHITECTURE.md –º–∞–ª–∞ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è
–©–æ –±—É–ª–æ –Ω–µ–∑—Ä–æ–∑—É–º—ñ–ª–æ:

–ß–∏ Telegram notification - —Ü–µ infrastructure/ —á–∏ features/?
–ß–∏ Stripe service - —Ü–µ features/payments/ —á–∏ infrastructure/payments/?
–í–∏—Ä—ñ—à–∏–≤ —Ç–∞–∫:

Business logic (payments, audit) ‚Üí features/
External integrations (Telegram, email) ‚Üí infrastructure/
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–î–æ–¥–∞—Ç–∏ Decision Tree –¥–ª—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

[New Code]
                       |
            Business Logic? ‚îÄ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí features/
                       |
                      NO
                       |
            Pure Model/Type? ‚îÄ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí domain/
                       |
                      NO
                       |
           External API call? ‚îÄ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí infrastructure/
                       |
                      NO
                       |
                Reusable UI? ‚îÄ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí shared/
4. Versioning Strategy –¥–ª—è Documentation
–ü—Ä–æ–±–ª–µ–º–∞:

Next.js-Architecture-Standard-v0.1.md –º–∞—î –≤–µ—Ä—Å—ñ—é
–ê–ª–µ —è–∫ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç–∏ –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ v0.2?
–ß–∏ —î migration guide –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏?
–°—Ü–µ–Ω–∞—Ä—ñ–π:
–Ø –∑–∞–≤–µ—Ä—à–∏–≤ –º—ñ–≥—Ä–∞—Ü—ñ—é –Ω–∞ v0.1. –ß–µ—Ä–µ–∑ –º—ñ—Å—è—Ü—å –≤–∏—Ö–æ–¥–∏—Ç—å v0.2 –∑ –Ω–æ–≤–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏. –©–æ —Ä–æ–±–∏—Ç–∏?

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–î–æ–¥–∞—Ç–∏:

/standards/
  Next.js-Architecture-Standard-v0.1.md
  Next.js-Architecture-Standard-v0.2.md
  MIGRATION-v0.1-to-v0.2.md       # ‚Üê NEW
5. Template Variables
–ü—Ä–æ–±–ª–µ–º–∞:
Templates (Architecture, PageMapping) –º–∞—é—Ç—å placeholder text, –∞–ª–µ:

–ù–µ–º–∞ —Å–ø–∏—Å–∫—É –≤—Å—ñ—Ö –∑–º—ñ–Ω–Ω–∏—Ö
–ù–µ–º–∞ validation, —á–∏ –≤—Å—ñ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ
–ü—Ä–∏–∫–ª–∞–¥:
ArchitectureTemplate.md –º–∞—î —Å–µ–∫—Ü—ñ—ó:

## 1. FOLDER STRUCTURE
[Describe your structure]
–ê–ª–µ –Ω–µ–º–∞:

–û–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤
–§–æ—Ä–º–∞—Ç—É –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (text? code block? mermaid?)
Validation rules
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–î–æ–¥–∞—Ç–∏ YAML frontmatter –¥–æ templates:

---
required_sections:
  - folder_structure
  - layer_responsibilities
  - data_flow
validation:
  - must_include_5_layers
  - must_define_dependencies
---
6. AI-Specific Guidance
–ü—Ä–æ–±–ª–µ–º–∞:
Framework –Ω–∞–ø–∏—Å–∞–Ω–∏–π –¥–ª—è AI, –∞–ª–µ:

Execution Maps —ñ–Ω–æ–¥—ñ –¥–≤–æ–∑–Ω–∞—á–Ω—ñ
–ù–µ–º–∞ explicit error handling instructions
–í—ñ–¥—Å—É—Ç–Ω—ñ fallback scenarios
–ü—Ä–∏–∫–ª–∞–¥ –∑ CARD-3:

## 3.1. Architecture Audit
–°—Ç–≤–æ—Ä–∏—Ç–∏:
- ARCHITECTURE_AUDIT.md
–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
–©–æ –Ω–µ–∑—Ä–æ–∑—É–º—ñ–ª–æ AI:

–©–û –ø–∏—Å–∞—Ç–∏ –≤ ARCHITECTURE_AUDIT.md? (—Ñ–æ—Ä–º–∞—Ç?)
–Ø–ö –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏? (—è–∫—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó?)
–©–û —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –ø–∞–ø–æ–∫ –∑–∞–±–∞–≥–∞—Ç–æ?
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:
–î–æ–¥–∞—Ç–∏ explicit AI prompts:

## 3.1. Architecture Audit
### INPUT
- Existing codebase structure
### PROCESS
1. List all folders in src/
2. For each folder, classify: canonical | non-canonical
3. For non-canonical, suggest migration path
### OUTPUT
File: ARCHITECTURE_AUDIT.md
Format:
[Use AuditTemplate.md]
### AI PROMPT
"Generate architecture audit following AuditTemplate.md.
For each folder:
- State: exists | missing
- Classification: canonical | non-canonical
- Action: keep | move | delete"
üí° –©–æ –º–æ–∂–Ω–∞ –ü–û–ö–†–ê–©–ò–¢–ò
1. Iceberg CLI (High Priority)
# Install
npm install -g @iceberg/cli
# Initialize
iceberg init --template next-js
# Validate
iceberg validate
# Migrate
iceberg migrate --from v0.1 --to v0.2
# Audit
iceberg audit --report compliance.md
2. VS Code Extension
–ü—ñ–¥—Å–≤—ñ—á—É–≤–∞—Ç–∏ non-canonical imports
Auto-complete –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö —à–ª—è—Ö—ñ–≤
Quick fix: "Move to canonical location"
3. Documentation Linter
iceberg lint docs/
# ‚úÖ ARCHITECTURE.md: valid
# ‚ùå PAGE_MAPPING.md: missing required section "Route Groups"
4. Interactive Decision Tree
Web-tool: "–ö—É–¥–∏ –ø–æ–∫–ª–∞—Å—Ç–∏ –º—ñ–π –∫–æ–¥?"

Q: "–¶–µ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞?" ‚Üí Yes ‚Üí features/
Q: "–¶–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?" ‚Üí Yes ‚Üí features/[name]/ui/
5. Real-World Case Studies
/case-studies/
  /e-commerce-migration/
  /saas-greenfield/
  /legacy-rescue/
–ö–æ–∂–µ–Ω –∑:

Before/After —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é
Execution log
Lessons learned
üéØ –ó–∞–≥–∞–ª—å–Ω–∞ –û—Ü—ñ–Ω–∫–∞
–°–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏ (9/10)
‚úÖ –î–µ—Ç–µ—Ä–º—ñ–Ω—ñ–∑–º
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
‚úÖ Documentation-first
‚úÖ –ß—ñ—Ç–∫—ñ –º–µ–∂—ñ
–°–ª–∞–±–∫—ñ —Å—Ç–æ—Ä–æ–Ω–∏ (6/10)
‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤
‚ö†Ô∏è –ù–µ–º–∞ tooling
‚ö†Ô∏è Ambiguity –≤ edge cases
‚ö†Ô∏è –ù–µ–º–∞—î migration guides
–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π Roadmap
Phase 1 (1-2 –º—ñ—Å—è—Ü—ñ):

 –î–æ–¥–∞—Ç–∏ 3-5 real code examples
 –°—Ç–≤–æ—Ä–∏—Ç–∏ decision trees –¥–ª—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
 –î–æ–¥–∞—Ç–∏ migration guides –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏
Phase 2 (3-4 –º—ñ—Å—è—Ü—ñ):

 –†–æ–∑—Ä–æ–±–∏—Ç–∏ Iceberg CLI (validate, migrate)
 –°—Ç–≤–æ—Ä–∏—Ç–∏ documentation linter
 –î–æ–¥–∞—Ç–∏ template variables –∑ validation
Phase 3 (6+ –º—ñ—Å—è—Ü—ñ–≤):

 VS Code extension
 Interactive web tools
 Case studies library
üìù –í–∏—Å–Ω–æ–≤–æ–∫
Iceberg Framework - —Ü–µ SOLID foundation, –∞–ª–µ –π–æ–º—É –±—Ä–∞–∫—É—î practical tooling —Ç–∞ real examples.

–í—ñ–Ω —á—É–¥–æ–≤–∏–π –¥–ª—è:

‚úÖ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
‚úÖ Enforcement standards
‚úÖ AI execution governance
–ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏:

‚ö†Ô∏è Developer Experience (CLI, linting)
‚ö†Ô∏è Examples (code, not just templates)
‚ö†Ô∏è Edge case handling (decision trees)
–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞: 8/10 - –¥—É–∂–µ —Å–∏–ª—å–Ω–∞ –±–∞–∑–∞, –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –º–∞—Å–æ–≤–æ–≥–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è.